<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FastCCD Routines &mdash; csxtools 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="csxtools 0.1.0 documentation" href="../index.html" />
    <link rel="up" title="API Reference for CSX Tools" href="index.html" />
    <link rel="next" title="Image Processing Routines" href="image.html" />
    <link rel="prev" title="API Reference for CSX Tools" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          csxtools</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference for CSX Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Example Notebooks</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">FastCCD Routines</a><ul>
<li><a class="reference internal" href="#module-csxtools.fastccd">API Reference</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="fastccd-routines">
<h1>FastCCD Routines<a class="headerlink" href="#fastccd-routines" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-csxtools.fastccd">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#module-csxtools.fastccd" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="csxtools.fastccd.correct_images">
<code class="descclassname">csxtools.fastccd.</code><code class="descname">correct_images</code><span class="sig-paren">(</span><em>images</em>, <em>dark=None</em>, <em>flat=None</em>, <em>gain=(1</em>, <em>4</em>, <em>8)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/csxtools/fastccd/images.html#correct_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#csxtools.fastccd.correct_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract backgrond and gain correct images</p>
<p>This routine subtrtacts the backgrond and corrects the images
for the multigain FastCCD ADC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in</strong> (<em>array_like</em>) &#8211; Input array of images to correct of shape (N, y, x)  where N is the
number of images and x and y are the image size.</li>
<li><strong>dark</strong> (<em>array_like, optional</em>) &#8211; Input array of dark images. This should be of shape (3, y, x).
dark[0] is the gain 8 (most sensitive setting) dark image with
dark[2] being the gain 1 (least sensitive) dark image.</li>
<li><strong>flat</strong> (<em>array_like, optional</em>) &#8211; Input array for the flatfield correction. This should be of shape
(y, x)</li>
<li><strong>gain</strong> (<em>tuple, optional</em>) &#8211; These are the gain multiplication factors for the three different
gain settings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of corrected images of shape (N, y, x)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array_like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="csxtools.fastccd.photon_count">
<code class="descclassname">csxtools.fastccd.</code><code class="descname">photon_count</code><span class="sig-paren">(</span><em>data</em>, <em>thresh</em>, <em>mean_filter</em>, <em>std_filter</em>, <em>nsum=3</em>, <em>nan=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/csxtools/fastccd/phocount.html#photon_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#csxtools.fastccd.photon_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Do single photon counting on CCD image</p>
<p>This routine does single photon counting by cluster analysis. The image
is searched for bright pixels within a threshold and then the energy
deposited by each photon is calculated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array_like</em>) &#8211; Stack of CCD images. This array should be of shape (N, y, x) where
N is the number of images</li>
<li><strong>thresh</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; Threshold to use for identifying photons. This should be a tuple of
(min, max)</li>
<li><strong>mean_filter</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; Filter only the values of the mean which are within the limits of
the tuple of the form (min, max)</li>
<li><strong>std_filter</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><em>tuple</em></a>) &#8211; Filter only the values of the standard deviation  which are within
the limits of the tuple of the form (min, max)</li>
<li><strong>nsum</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The number of pixels to use to calculate the energy deposited by the
photon. This should be 0 &lt; nsum &lt;= 9.</li>
<li><strong>nan</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If true, replace empty pixels with <code class="docutils literal"><span class="pre">np.nan</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Two arrays are returned. The first is an array of size (N, y, x)
where the elements are the integrated energy calculated for each
photon hit. The second array is the standard deviation for the
integrated intensity on each photon hit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)">tuple</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/api/fastccd.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, Brookhaven Science Associates, Brookhaven National Laboratory.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>